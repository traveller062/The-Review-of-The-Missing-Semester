
 
 ==以下来自  vimtutor zh中的汉化vim教程==
 
 简体中文教程翻译版之译制者为梁昌泰 <beos@turbolinux.com.cn>

## 核心理念：模态编辑

Vim 最大的特点是它的**模态编辑** 理念。这意味着 Vim 拥有不同的操作模式来处理不同的任务。这种设计极其高效，因为我们花费在阅读、导航和进行小范围修改上的时间，远比连续不断地编写长篇代码要多


--------------------------------------------------------------------------------

## 1. 基础操作与文件管理

### 1.1 编辑器基础

- **光标移动:** 推荐使用 `h` (左), `j` (下), `k` (上), `l` (右) 进行高效移动。方向键同样有效。
- **启动 Vim:** 在命令行中输入 `vim 文件名` 来启动编辑器并打开指定文件。
- **退出 Vim:**
    - `:q!` - 放弃所有改动并退出。
    - `:wq` - 保存当前文件的改动后退出。
- **字符删除:** `x` - 删除光标当前所在位置的单个字符。
- **文本插入:** `i` - 在光标当前位置之前进入插入模式，开始输入文本。
- **返回正常模式:** `ESC` - 从插入模式或其他模式返回到正常模式，或用于取消一个未完成的命令。

### 1.2 文件与外部命令交互

- **执行外部命令:** `:!command` - 在 Vim 内部执行一个外部 shell 命令。例如，使用 `:!ls` (Unix) 或 `:!dir` (Windows) 查看当前目录内容。
- **保存文件:** `:w FILENAME` - 将当前缓冲区中的所有内容保存到一个名为 `FILENAME` 的新文件中。
- **保存部分文件:** `:#,#w FILENAME` - 将指定行号范围 `#,#` 内的内容保存到新文件 `FILENAME` 中。
- **读入文件:** `:r FILENAME` - 将外部文件 `FILENAME` 的内容读取并插入到当前光标位置之后。

--------------------------------------------------------------------------------

## 2. 文本编辑与修改

### 2.1 删除与撤销

- **删除命令:**
    - `dw`: 删除从光标位置到当前单词的末尾（包含单词后的空格）。
    - `d$`: 删除从光标位置到当前行的末尾。
    - `dd`: 删除当前所在的整行。
- **命令格式:**
- 这个结构允许命令重复执行。例如，`2dd` 会删除两行。
- **撤销与恢复:**
    - `u`: 撤销上一步执行的操作。
    - `U`: 撤销对当前行的所有改动，将其恢复到原始状态。
    - `CTRL-R`: 恢复（重做）被撤销的操作。

### 2.2 粘贴、替换与更改

- **粘贴:** `p` - 将最后一次删除的内容粘贴到光标位置之后。如果删除的是整行，内容将粘贴在当前行的下一行。
- **替换:** `r` + `新字符` - 替换光标所在位置的单个字符，操作后停留在正常模式。
- **更改:** 更改命令会删除指定对象并立即进入插入模式。
    - `cw`: 更改从光标到单词末尾的内容，并进入插入模式。
    - `c$`: 更改从光标到行尾的内容，并进入插入模式。
- **更改命令格式:**

### 2.3 插入与替换模式

- **打开新行:**
    - `o`: 在当前光标所在行的下方打开一个新行，并立即进入插入模式。
    - `O`: 在当前光标所在行的上方打开一个新行，并立即进入插入模式。
- **追加文本:**
    - `a`: 在光标之后进入插入模式，开始追加文本。
    - `A`: 在当前行末尾追加文本（比 `$a` 更快捷）。
- **替换模式:** `R` - 进入替换模式，之后输入的每个字符都会覆盖光标下的字符，直到按 `ESC` 退出。

--------------------------------------------------------------------------------

## 3. 导航、搜索与替换

### 3.1 定位与跳转

- `CTRL-g`: 显示当前文件的状态信息，包括文件名、总行数以及当前光标所在的行号和位置。
- `Shift-G`: 快速跳转至文件的最后一行。
- `行号` + `Shift-G`: 直接跳转至指定的行号。

### 3.2 搜索

- `/字符串`: 从当前光标位置开始，向文件末尾方向查找指定的字符串。
- `?字符串`: 从当前光标位置开始，向文件开头方向查找指定的字符串。
- `n`: 重复上一次的查找操作（与上次查找方向相同）。
- `Shift-N`: 朝相反方向重复上一次的查找操作。

### 3.3 括号匹配

- `%`: 当光标位于 `(`, `)`, `[`, `]`, `{`, `}` 等配对括号上时，按下此键可快速跳转到与之匹配的另一个括号上。

### 3.4 替换

- `:s/old/new`: 替换当前行中第一个出现的 `old` 字符串为 `new`。
- `:s/old/new/g`: 替换当前行中所有出现的 `old` 字符串为 `new`。
- `:#,#s/old/new/g`: 替换指定行号范围 `#,#` 内所有匹配的字符串。
- `:%s/old/new/g`: 替换整个文件中所有匹配的字符串。
- `:%s/old/new/gc`: 在全局替换的基础上，每次替换前都会进行询问确认。

--------------------------------------------------------------------------------

## 4. 帮助系统与个性化配置

### 4.1 使用在线帮助

- **启动帮助:**
    - 按 `<HELP>` 键 (如果可用)。
    - 按 `<F1>` 键 (如果可用)。
    - 输入 `:help` 命令。
- **查询特定主题:** 在 `:help` 后加上具体命令或主题名称，可以精确查找相关帮助。例如：
    - `:help w` (查询 `w` 命令的帮助)
    - `:help user-manual` (打开用户手册)
- **关闭帮助:** 在帮助窗口中输入 `:q` 即可关闭。

### 4.2 创建启动脚本 (vimrc)

为了启用语法高亮等更多高级功能，并保存个人偏好设置，可以创建一个 `vimrc` 启动脚本。

- **目的:** 启用语法高亮等更多功能特性，实现个性化配置。
- **步骤:**
    1. **编辑文件:** 根据您的操作系统，执行相应命令来创建或编辑 `vimrc` 文件。
        - Unix/Linux: `:edit ~/.vimrc`
        - Windows: `:edit $VIM/_vimrc`
    2. **导入范例:** 执行 `:read $VIMRUNTIME/vimrc_example.vim` 命令，将官方提供的示例配置读入到您的 `vimrc` 文件中作为基础。
    3. **保存文件:** 执行 `:write` 命令保存文件。(下次启动 Vim 时，这些配置将自动生效。)

### 4.3 常用选项设置

- **语法:** `:set 选项名`
- **示例:**
    - `:set ic` - 设置查找时忽略大小写 (Ignore Case)。
    - `:set hls is` - 设置高亮所有搜索结果 (Highlight Search) 并启用增量搜索 (Incremental Search)，即在输入搜索词时实时显示匹配结果。

--------------------------------------------------------------------------------

